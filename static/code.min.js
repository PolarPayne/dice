var tipsHintsElement=document.getElementById("tips-hints"),tipsHintsVisible=!0;function toggleTipsHints(){tipsHintsElement.style=tipsHintsVisible?"display: none":"";tipsHintsVisible=!tipsHintsVisible;return!1}var codeElement=document.getElementById("code"),executeButton=document.getElementById("execute-button"),outElement=document.getElementById("out"),outUlElement=document.getElementById("out-ul"),errorsElement=document.getElementById("errors"),errorsUlElement=document.getElementById("errors-ul");
codeElement.addEventListener("keypress",execute);codeElement.focus();
function execute(b){if((void 0===b||b.ctrlKey)&&!executeButton.disabled){b=codeElement.value;document.body.style="cursor: wait;";executeButton.disabled=!0;executeButton.textContent="Executing...";var a=new XMLHttpRequest;a.open("POST","/",!0);a.setRequestHeader("Content-type","text/plain");a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){document.body.style="";executeButton.disabled=!1;executeButton.textContent="Execute";if(500==a.status)return window.alert("The server encountered an error parsing the input.\nSorry about that...");
if(200==a.status){var b=function(a,b){for(var c;a.firstChild;)a.removeChild(a.firstChild);for(var d=0;d<b.length;d++)c=document.createElement("li"),c.innerText=b[d],a.appendChild(c)};if("application/json"===a.getResponseHeader("Content-type")&&null!==a.responseText){var e=JSON.parse(a.responseText);b(outUlElement,e.out);b(errorsUlElement,e.errors)}}}};a.send(b);return!1}};
